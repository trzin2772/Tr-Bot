typeof SportFrame=="undefined"&&(window.SportFrame=new function(){this.styleSetTimer=null;this.elem=null;this.betslip=null;this.supportedPages={home:"Home",upcoming:"Upcoming",results:"Results",gameDetails:"GameDetails",error404:"Error",search:"Search",liveSchedule:"LiveSchedule",multiView:"MultiView",multiBet:"MultiBet",scheduleEvents:"ScheduledEvents",liveEvents:"LiveEvents",league:"League",myTournaments:"MyTournaments"};this.commands={setCssAsText:"setCssAsText",couponStakeCount:"couponStakeCount",customCssVariables:"customCssVariables",deposit:"deposit",expressdayShow:"expressdayShow",fixHeight:"fixHeight",heightChanged:"heightChanged",setBookingNumber:"setBookingNumber",loaded:"loaded",login:"login",moveBetslipBtn:"moveBetslipBtn",navigateToBetSlip:"navigateToBetSlip",navigateToBetHistory:"navigateToBetHistory",navigateToChampionship:"navigateToChampionship",navigateToEvent:"navigateToEvent",openPage:"openPage",registration:"registration",reload:"reload",scroll:"scroll",scrollTo:"scrollTo",scrollToTop:"scrollToTop",sportBalance:"sportBalance",statusError:"statusError",statusOk:"statusOk",withdraw:"withdraw",setTheme:"setTheme",setProjectTheme:"setProjectTheme",checkAndValidate:"checkAndValidate",sportAppEventListener:"sportAppEventListener",successBet:"successBet",navigateToSport:"navigateToSport",setCouponFromBookingNumber:"setCouponFromBookingNumber",sportAppEventDispatch:"sportAppEventDispatch"};this.setts={server:"",sportPartner:"",token:"-",userId:"",champId:"",eventId:"",stakeId:"",isLive:null,isSuperTip:!1,oddsFormat:0,oddsFormatList:[],device:"d",language:"",customCssUrl:"",sportsBookView:"",currentPage:"/Home",defaultPath:"SportsBook",terminalPath:"Terminal",scrollToTopInterval:null,timeZone:"",fixedHeight:!1,clearSiteStyles:!1,login:"",deposit:"",registration:"",onContentLoaded:"",healthCheckCallback:"",bookingNumber:0,balanceChangeCallback:function(){},onNavigateCallback:function(){},getSportAppRoute:function(){},eventsHandler:function(){},getBookingNumber:function(){},parent:[],resetAllStyles:!1,theme:"",projectTheme:"",initialRoute:{path:"",qs:{}}};this.buildUrl=function(){var n=this.setts,r=n.server+n.defaultPath,u,i,t,s;if(n.sportPartner,typeof n.currentPage!="undefined"&&n.initialRoute.path===""){if(n.currentPage.length<=2)switch(n.currentPage){case"0":n.currentPage="Home";break;case"1":n.currentPage="Upcoming";break;case"2":n.currentPage="EventView";n.isLive=!0;break;case"3":n.currentPage="Results";break;case"4":n.currentPage="GameDetails";break;case"7":n.currentPage="BetsHistory";break;case"8":n.currentPage="UpcomingDetails";n.isLive=!1;break;case"10":n.currentPage="Calendar";break;case"11":n.currentPage="MultiView";break;case"12":n.currentPage="Overview";break;case"13":n.currentPage="Schedule";break;case"19":n.currentPage="BetHistory";break;case"20":n.currentPage="BonusPage";break;default:n.currentPage="Home"}u=n.currentPage.toLowerCase();u==="eventview"&&(n.eventId?(n.currentPage="GameDetails",n.isLive=!1):n.currentPage="Overview");u==="upcomingdetails"&&(n.isLive=!0);n.device==="m"&&u==="overview"&&(n.currentPage="MultiView");r+="/"+n.currentPage}else if(n.initialRoute&&n.initialRoute.path){switch(n.initialRoute.path){case"/pre-match":if(n.currentPage="Upcoming",n.initialRoute.qs&&n.initialRoute.qs.q){var f=Object.keys(n.initialRoute.qs.q)[0],e=n.initialRoute.qs.q[f],o=Object.keys(e)[0],h=e[o][0];t.append("championshipId",h);t.append("sportId",f);t.append("counryId",o);t.append("isLive",!1);t.append("isSuperTip",!1)}break;case"/live":if(n.currentPage="EventView",n.initialRoute.qs&&n.initialRoute.qs.q){var f=Object.keys(n.initialRoute.qs.q)[0],e=n.initialRoute.qs.q[f],o=Object.keys(e)[0],h=e[o][0];t.append("championshipId",h);t.append("sportId",f);t.append("counryId",o);t.append("isLive",!0);t.append("isSuperTip",!1)}break;case"/event-details":n.currentPage="GameDetails";n.initialRoute.qs&&(i=n.initialRoute.qs,t.append("eventId",i.event),t.append("championshipId",i.champ),t.append("sportId",i.sport),t.append("countryId",i.country),t.append("isLive",!!i.live),t.append("isSuperTip",!!i.supertip));break;case"/results":n.currentPage="Results";break;case"/bet-race":n.currentPage="BetRace";break;case"/error":n.currentPage="Error";break;case"/calendar":n.currentPage="Calendar";break;case"/favorites":n.currentPage="MultiView";break;case"/overview":n.currentPage="Overview";break;case"/schedule":n.currentPage="Schedule";break;case"/league":n.currentPage="League";break;case"/sport-tournament":n.currentPage="TournamentsHistory";break;case"/live-streaming":n.currentPage="LiveStreaming";break;case"/group-stage":n.currentPage="GroupStage";break;case"/bet-history":n.currentPage="BetHistory";break;case"/bonus-history":n.currentPage="BonusPage";break;default:n.currentPage="Home"}r+="/"+n.currentPage}else r+="/Home";if(t=new URLSearchParams,n.eventId&&n.eventId!="0"?(t.append("gameId",n.eventId),t.append("isLive",n.isLive),t.append("isSuperTip",n.isSuperTip),n.stakeId&&t.append("stakeId",n.stakeId)):n.champId&&t.append("championshipId",n.champId),t.append("token",n.token),n.partnerUserId&&t.append("partnerUserId",n.userId),t.append("d",n.device),t.append("l",n.language),t.append("tz",n.timeZone),t.append("of",n.oddsFormat),Array.isArray(n.oddsFormatList)&&t.append("ofl",encodeURIComponent(n.oddsFormatList)),Array.isArray(n.parent))for(s=0;s<n.parent.length;s++)t.append("parent",n.parent[s]);return t.append("customCssUrl",n.customCssUrl),t.append("sportsBookView",n.sportsBookView),t.append("clearSiteStyles",n.clearSiteStyles),t.append("resetAllStyles",n.resetAllStyles),t.append("theme",n.theme),t.append("projectTheme",n.projectTheme),r+"?"+t.toString()}.bind(this);this.fromStringToFunction=function(n){var t,i;switch(typeof n){case"function":return n;case"string":for(n=n.split("."),t=window,i=0;i<n.length;i++)t!==undefined&&(t=t[n[i]]);return this.fromStringToFunction(t);default:return function(){}}}.bind(this);this.getBounds=function(){var t=document.documentElement.getBoundingClientRect(),n=this.elem.getBoundingClientRect();return{visibleArea:{top:t.top,height:window.innerHeight},sportIframe:{top:n.top,height:n.height}}}.bind(this);this.listenMessage=function(n){var s,h,c,l,f,e,o,a,v;switch(n.data.command){case this.commands.loaded:this.riseContentloaded();this.setFixedHeight();this.setCouponFromBookingNumber();this.scroll();break;case this.commands.expressdayShow:s=document.getElementById("MultiBetofTheDayPanel");s&&(s.style.display=n.data.args?"":"none");break;case this.commands.couponStakeCount:this.betslip&&(h=this.betslip.querySelector("#footer_coupon_count"),h&&(h.innerHTML=n.data.args));break;case this.commands.moveBetslipBtn:this.betslip&&(this.betslip.innerHTML=n.data.args,c=this.betslip.querySelector("#footer_coupon_div"),c&&c.addEventListener("click",function(n){n.preventDefault();n.stopPropagation();this.sendMessage(this.commands.navigateToBetSlip,!0)}.bind(this)),l=this.betslip.querySelector("#footer_bet_history"),l&&l.addEventListener("click",function(n){n.preventDefault();n.stopPropagation();this.sendMessage(this.commands.navigateToBetHistory,!0)}.bind(this)));break;case this.commands.login:this.setts.login&&this.fromStringToFunction(this.setts.login)();break;case this.commands.registration:this.setts.registration&&this.fromStringToFunction(this.setts.registration)();break;case this.commands.deposit:this.setts.deposit&&this.fromStringToFunction(this.setts.deposit)();break;case this.commands.withdraw:this.setts.withdraw&&this.fromStringToFunction(this.setts.withdraw)();break;case this.commands.scrollTo:n.data.args!==undefined&&setTimeout(function(){window.scrollTo(0,n.data.args+100)},0);break;case this.commands.scrollToTop:this.setts.scrollToTopInterval&&clearInterval(this.setts.scrollToTopInterval);this.setts.scrollToTopInterval=setInterval(this.scrollToTop,5);break;case this.commands.reload:window.location.reload(!0);break;case this.commands.heightChanged:n.data.args&&this.setHeight(n.data.args);break;case this.commands.setBookingNumber:n.data.args.BookNumber&&this.setts.getBookingNumber(n.data.args.BookNumber);break;case this.commands.sportBalance:var t=JSON.parse(decodeURIComponent(n.data.args)),r=document.getElementById("SportBonusPanel"),u=document.getElementById("CashbackBalancePanel"),i=document.getElementById("TournamentBalancePanel");typeof t=="object"&&(r&&(f=r.querySelector("#SportBonusAmount"),f&&(parseFloat(t.BonusBalance)>=0?(r.style.display="",r.classList.remove("dis_none"),f.innerHTML=t.BonusBalance):(r.style.display="none",f.innerHTML=""))),u&&(e=u.querySelector("#CashbackBalanceAmount"),e&&(parseFloat(t.CashBackBalance)>=0?(u.style.display="",u.classList.remove("dis_none"),e.innerHTML=t.CashBackBalance):(u.style.display="none",e.innerHTML=""))),i&&(i.clickHandled||(i.clickHandled=!0,i.addEventListener("click",function(){this.openPage(this.supportedPages.myTournaments)}.bind(this))),o=i.querySelector("#TournamentBalanceAmount"),o&&(parseFloat(t.TournamentBalance)>=0?(i.style.display="",i.classList.remove("dis_none"),o.innerHTML=t.TournamentBalance):(i.style.display="none",o.innerHTML=""))),this.setts.balanceChangeCallback({BonusBalance:t.BonusBalance,CashBackBalance:t.CashBackBalance,TournamentBalance:t.TournamentBalance}));break;case this.commands.statusOk:this.setts.healthCheckCallback&&this.fromStringToFunction(this.setts.healthCheckCallback)("status-ok");break;case this.commands.statusError:this.setts.healthCheckCallback&&this.fromStringToFunction(this.setts.healthCheckCallback)("status-error");break;case this.commands.navigateToEvent:this.setts.onNavigateCallback(n.data.args);break;case this.commands.sportAppEventDispatch:this.setts.getSportAppRoute(n.data.args);break;case this.commands.successBet:case this.commands.navigateToSport:a={sender:n.data.sender,eventType:n.data.command,data:n.data.args};this.setts.eventsHandler(a);break;case this.commands.checkAndValidate:v=n.data.args.error.status;this.checkAndValidate(v===403)}}.bind(this);this.riseContentloaded=function(){var n,i,t;if(typeof this.setts.onContentLoaded!="undefined"&&this.setts.onContentLoaded){for(n=window,i=this.setts.onContentLoaded.split("."),t=0;t<i.length;t++)n=n[i[t]];typeof n=="function"&&setTimeout(n,0)}}.bind(this);this.setFixedHeight=function(){this.setts.fixedHeight&&this.sendMessage(this.commands.fixHeight,this.setts.fixedHeight)}.bind(this);this.sendMessage=function(n,t,i){i=i||{};var r=Object.assign({command:n,variables:t},i);this.elem.contentWindow&&this.elem.contentWindow.postMessage(r,"*")}.bind(this);this.scroll=function(){var n=this.getBounds(),t={type:"bounds",data:{bounds:n}};this.sendMessage(this.commands.scroll,n,t)}.bind(this);this.scrollToTop=function(){var n=document.documentElement.getBoundingClientRect();n.top<0?window.scrollBy(0,-10):clearInterval(this.setts.scrollToTopInterval)}.bind(this);this.setHeight=function(n){if(!this.setts.fixedHeight&&this.elem&&typeof n=="object"){var t=n.height;n.av===0||n.av===13||n.av===16||n.IsMobile?window.document.body.style.overflowY="":(window.document.body.style.overflowY!=="hidden"&&setTimeout(function(){clearInterval(this.setts.scrollToTopInterval);this.setts.scrollToTopInterval=setInterval(this.scrollToTop,5)}.bind(this),50),window.document.body.style.overflowY="hidden",t=window.innerHeight-this.elem.getBoundingClientRect().top);this.elem.style.height=t+"px";this.elem.height=t}}.bind(this);this.addEventListeners=function(){window.postMessage&&window.addEventListener("message",this.listenMessage);window.scroll&&window.addEventListener("scroll",this.scroll);window.onerror&&(window.onerror=function(){return!0})}.bind(this);this.removeEventListeners=function(){this.backUpSettings||(this.backUpSettings=Object.create(this.setts));this.setts=Object.create(this.backUpSettings);window.removeEventListener("message",this.listenMessage);window.removeEventListener("scroll",this.scroll)};this.checkAndValidate=function(n){var t,i;if(n)return this.validate();t=sessionStorage.getItem("__sb_err_cnt__");t=parseInt(t);isNaN(t)&&(t=0);i=this;t<3&&fetch(this.setts.server+"Error/Check",{method:"GET",mode:"cors",credentials:"include"}).then(function(n){n.status===403&&(sessionStorage.setItem("__sb_err_cnt__",++t),i.validate(n))}).catch(function(n){sessionStorage.setItem("__sb_err_cnt__",++t);i.validate(n)})};this.validate=function(){location.href=this.setts.server+"Error/Validate?returnUrl="+encodeURIComponent(location.href)};this.destroy=function(){this.removeEventListeners();this.elem instanceof Element&&(this.elem.remove(),this.elem=null)};this.frame=function(n){var f,r,t,i;for(this.removeEventListeners(),f=["login","deposit","registration"],r=0;r<n.length;r++){var u=n[r][0],e=n[r][1],o=typeof e;(typeof this.setts[u]===o||f.indexOf(u)>-1&&o==="function")&&(this.setts[u]=e)}this.checkAndValidate(!1);t=document.getElementById("sport_div_iframe");t===null&&(t=document.createElement("div"),document.body.appendChild(t));i=600;this.setts.fixedHeight=!!this.setts.fixedHeight&&this.setts.device!=="m";this.setts.fixedHeight?i=this.setts.fixedHeight=Math.max(i,window.innerHeight-t.getBoundingClientRect().top):this.setts.device==="m"&&(i=300);this.elem instanceof Element||(this.elem=document.createElement("iframe"));this.elem.setAttribute("frameborder","0");this.elem.setAttribute("allowfullscreen","");this.elem.setAttribute("allow","autoplay; clipboard-write");this.elem.scrolling="no";this.elem.width=1;this.elem.height=i;this.elem.style.minWidth="100%";this.elem.style.minHeight=i+"px";this.elem.style.height=i+"px";this.elem.style.display="block";this.elem.src=this.buildUrl();t.appendChild(this.elem);this.setts.device==="m"&&(this.betslip=document.createElement("div"),this.betslip.id="betSlip",this.betslip.style.position="fixed",this.betslip.style.width="100%",this.betslip.style.textAlign="center",this.betslip.style.bottom="10px",this.betslip.style.zIndex="99",t.appendChild(this.betslip),function(n,t,i,r,u){r=n.createElement(t);u=n.getElementsByTagName("head")[0];r.rel="stylesheet";r.href=i;u.appendChild(r)}(document,"link",this.setts.server+"Css/CouponButton.css"));this.addEventListeners()}.bind(this);this.openPage=function(n){return this.sendMessage(this.commands.openPage,n)}.bind(this);this.openEvent=function(n){typeof n=="object"&&typeof n.sportId=="number"&&this.sendMessage(this.commands.navigateToEvent,n)}.bind(this);this.setCouponFromBookingNumber=function(){if(this.setts.bookingNumber)return this.sendMessage(this.commands.setCouponFromBookingNumber,this.setts.bookingNumber)}.bind(this);this.setStyle=function(n){return this.styleSetTimer&&clearTimeout(this.styleSetTimer),this.styleSetTimer=setTimeout(this.sendMessage,50,this.commands.customCssVariables,n),!0}.bind(this);this.setCssAsText=function(n){this.sendMessage(this.commands.setCssAsText,n)}.bind(this);this.setTheme=function(n){this.sendMessage(this.commands.setTheme,n)}.bind(this);this.setSportAppRoute=function(n){this.sendMessage(this.commands.sportAppEventListener,n)}.bind(this);this.setProjectTheme=function(n){this.sendMessage(this.commands.setProjectTheme,n)}.bind(this)})